<?xml version="1.0" encoding="utf-8"?>
<AssetDeclaration xmlns="uri:ea.com:eala:asset">
	<GameObject
		id="BlackHandConfessorSquad"
		KindOf="SELECTABLE CAN_ATTACK INFANTRY SCORE ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAPTURE HORDE PATH_THROUGH_INFANTRY ARMY_SUMMARY LARGE_RECTANGLE_PATHFIND SKIRMISH_AI_DONT_GARRISON ANTI_GARRISON CAN_BE_FAVORITE_UNIT"
		Description="Desc:BlackHandConfessorSquad"
		TypeDescription="Type:BlackHandConfessorSquad"
		RadarPriority="NOT_ON_RADAR"
		Side="BlackHand"
		EditorName="BlackHandConfessorSquad"
		EditorSorting="UNIT"
		BuildTime="4"
		CommandSet="BlackHandConfessorCabalSquadCommandSet"
		SelectPortrait="Portrait_NODConfessor"
		ButtonImage="Portrait_NODConfessor"
		FormationWidth="2"
		CommandPoints="100"
		ProductionQueueType="INFANTRY"
		UnitCategory="INFANTRY"
		WeaponCategory="BLAST"
		UnitTypeIcon="ConfessorHordePip"
		WorldMapArmoryUpgradesAllowed="Upgrade_NodTechCenterChargedParticleBeam"
		BuildCost="400"
		TransportSlotCount="1">
		<DisplayName>Name:BlackHandConfessorSquad</DisplayName>
		<ArmorSet
			Armor="NoArmor" />
		<LocomotorSet
			Speed="40"
			Locomotor="NormalRangedSquadLocomotor" />
		<SkirmishAIInformation
			UnitBuilderStandardCombatUnit="True" />
		<Draws>
			<ScriptedModelDraw
				id="0x14EA72D8"
				MaxRecoilDistance="3"
				RecoilDamping="0.4"
				OkToChangeModelColor="True">
				<ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
					<Model />
				</ModelConditionState>
				<ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="FORMATION_PREVIEW">
					<Model
						Name="W3DMesh:FXCONFESSOR_FP" />
				</ModelConditionState>
				<ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="WORLD_BUILDER">
					<Model
						Name="W3DContainer:SQUADMARKNUROC" />
				</ModelConditionState>
			</ScriptedModelDraw>

			<ScriptedModelDraw
				id="ModuleTag_DefaultDecal"
				MaxRecoilDistance="3"
				RecoilDamping="0.4"
				OkToChangeModelColor="True">
				<ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
					<Model />
				</ModelConditionState>

				<ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="USER_6">
					<Model
						Name="W3DContainer:FXINVISBONE"/>
					<ShadowInfo
						Type="ADDITIVE_DECAL"
						Texture="Decal_LeadershipBuff"
						SizeX="350"
						SizeY="350"
						OpacityPeak="0.3"
						MaxHeight="200"
						IsRotatingWithObject="False"
						OverrideLODVisibility="True"
						UseHouseColor="True"
						LocalPlayerOnly="True" />
				</ModelConditionState>

				<ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="USER_1">
					<Model
						Name="W3DContainer:FXINVISBONE" />
					<ShadowInfo
						Type="ADDITIVE_DECAL"
						Texture="Decal_LeadershipBuff"
						SizeX="300"
						SizeY="300"
						OpacityPeak="0.3"
						MaxHeight="200"
						IsRotatingWithObject="False"
						OverrideLODVisibility="True"
						UseHouseColor="True"
						LocalPlayerOnly="True" />
				</ModelConditionState>
			</ScriptedModelDraw>

			<ScriptedModelDraw
				id="0x3A238BAD"
				MaxRecoilDistance="3"
				RecoilDamping="0.4"
				OkToChangeModelColor="True">
				<ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
					<Model />
				</ModelConditionState>

				<ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="SELECTED USER_6">
					<Model
						Name="W3DContainer:FXINVISBONE" />
					<ShadowInfo
						Type="ADDITIVE_DECAL"
						Texture="Decal_LeadershipBuff"
						SizeX="350"
						SizeY="350"
						MaxHeight="200"
						OpacityPeak="0.8"
						OverrideLODVisibility="True"
						IsRotatingWithObject="False"
						UseHouseColor="True"
						LocalPlayerOnly="True" />
				</ModelConditionState>

				<ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="SELECTED">
					<Model
						Name="W3DContainer:FXINVISBONE" />
					<ShadowInfo
						Type="ADDITIVE_DECAL"
						Texture="Decal_LeadershipBuff"
						SizeX="300"
						SizeY="300"
						MaxHeight="200"
						OpacityPeak="0.8"
						OverrideLODVisibility="True"
						IsRotatingWithObject="False"
						UseHouseColor="True"
						LocalPlayerOnly="True" />
				</ModelConditionState>
			</ScriptedModelDraw>
			<!--
			<ScriptedModelDraw
				id="ModuleTag_DefaultDecal"
				MaxRecoilDistance="3"
				RecoilDamping="0.4"
				OkToChangeModelColor="True">
				<ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
					<Model
						Name="W3DContainer:FXINVISBONE" />
					<ShadowInfo
						Type="ADDITIVE_DECAL"
						Texture="Decal_LeadershipBuff"
						SizeX="300"
						SizeY="300"
						OpacityPeak="0.3"
						MaxHeight="200"
						IsRotatingWithObject="False"
						OverrideLODVisibility="True"
						UseHouseColor="True"
						LocalPlayerOnly="True" />
				</ModelConditionState>
			</ScriptedModelDraw>
			<ScriptedModelDraw
				id="0x3A238BAD"
				MaxRecoilDistance="3"
				RecoilDamping="0.4"
				OkToChangeModelColor="True">
				<ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
					<Model />
				</ModelConditionState>
				<ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="SELECTED">
					<Model
						Name="W3DContainer:FXINVISBONE" />
					<ShadowInfo
						Type="ADDITIVE_DECAL"
						Texture="Decal_LeadershipBuff"
						SizeX="300"
						SizeY="300"
						OpacityPeak="0.8"
						MaxHeight="200"
						OverrideLODVisibility="True"
						UseHouseColor="True"
						LocalPlayerOnly="True" />
				</ModelConditionState>
			</ScriptedModelDraw> -->
		</Draws>
		<Behaviors>
			<RandomModelCondition
				id="ModuleTag_Reskin"
				Conditions="USER_1" />
			<ModelConditionUpgrade
				id="ModuleTag_KanesWillConditionUpgrade"
				Permanent="True"
				AddConditionFlags="USER_6">
				<TriggeredBy>Upgrade_NodKanesWill</TriggeredBy>
			</ModelConditionUpgrade>

			<StealthDetectorUpdate
				id="0x70ED959C"
				DetectionRange="100" />
			<CreateAndEnterObjectSpecialPower
				id="ModuleTag_CreateAndEnterObjectSpecialPowerInfantry"
				SpecialPowerTemplate="SpecialPowerCallForTransportBlackHand"
				TriggerFX="FX_NodCallForTransportFlare"
				IdleWhenStartingPower="True"
				ChildModuleHandlesFX="True"
				OCL="OCL_BlackHandCallForTransportInfantry"
				CreateLocation="CREATE_ABOVE_LOCATION">
				<AttributeModifierAffects
					Rule="UNPARSED" />
				<RequirementsFilterMP
					Rule="UNPARSED" />
				<RequirementsFilterStrategic
					Rule="UNPARSED" />
				<FXOffset
					x="25" />
			</CreateAndEnterObjectSpecialPower>
			<AttributeModifierPoolUpdate
				id="0x513BC476" />
			<AttributeModifierUpgrade
				id="0xAA36A1AA"
				AttributeModifier="Modifier_MultifunctionUpgradeCenterSpeed">
				<TriggeredBy>Upgrade_MultifunctionUpgradeCenterSpeed</TriggeredBy>
			</AttributeModifierUpgrade>
			<AttributeModifierUpgrade
				id="0x81C6F752"
				AttributeModifier="Modifier_MultifunctionUpgradeCenterDamage">
				<TriggeredBy>Upgrade_MultifunctionUpgradeCenterDamage</TriggeredBy>
			</AttributeModifierUpgrade>
			<AttributeModifierUpgrade
				id="0xE35F7EC4"
				AttributeModifier="Modifier_MultifunctionUpgradeCenterArmor">
				<TriggeredBy>Upgrade_MultifunctionUpgradeCenterArmor</TriggeredBy>
			</AttributeModifierUpgrade>
			<StancesBehavior
				id="0x54CA416E"
				StanceTemplate="Generic" />
			<EmotionTrackerUpdate
				id="0x2C1462D7">
				<TauntAndPointExcluded />
				<AddEmotion>CheerIdle_Base</AddEmotion>
				<AddEmotion>CheerBusy_Base</AddEmotion>
			</EmotionTrackerUpdate>
			<LevelUpUpgrade
				id="0xA92BDFEA"
				LevelsToGain="1"
				LevelCap="4">
				<TriggeredBy>Upgrade_ProductionVeterancy_VETERAN</TriggeredBy>
			</LevelUpUpgrade>
			<LevelUpUpgrade
				id="0x5C3F216A"
				LevelsToGain="2"
				LevelCap="4">
				<TriggeredBy>Upgrade_ProductionVeterancy_ELITE</TriggeredBy>
			</LevelUpUpgrade>
			<LevelUpUpgrade
				id="0x379F3CE2"
				LevelsToGain="3"
				LevelCap="4">
				<TriggeredBy>Upgrade_ProductionVeterancy_HEROIC</TriggeredBy>
			</LevelUpUpgrade>
			<TemporarilyDefectUpdate
				id="0x3473AFD2"
				DefectionFrameCount="100" />
			<WeaponSetUpdate>
				<WeaponSlotHardpoint
					ID="1"
					InterleavedStyle="INTERLEAVE_FIRST_AVAILABLE">
					<Weapon
						Template="BlackHandConfessorSquadRangeFinder" />
				</WeaponSlotHardpoint>
			</WeaponSetUpdate>
			<Physics
				id="0x7806EAE5" />
			<ProductionUpdate
				id="0x34FE0D85"
				GiveNoXP="True" />
			<BannerCarrierUpgrade
				id="0x9E6E19B0"
				Permanent="True">
				<TriggeredBy>Upgrade_BlackHandBlackDisciplesUpgrade</TriggeredBy>
			</BannerCarrierUpgrade>
			<HordeContain
				id="0x3473F0C6"
				ShowPips="False"
				Slots="6"
				ConditionForEntry="INVALID"
				MeleeAttackLeashDistance="1"
				FrontAngle="4.7123"
				FlankedDelaySeconds="2"
				BannerCarrierByUpgradeOnly="True">
				<PassengerFilter
					Include="INFANTRY" />
				<DieMuxData />
				<InitialPayload
					Name="BlackHandConfessor"
					Count="6" />
				<MeleeBehavior />
				<RandomOffset
					x="4"
					y="4" />
				<RankInfo
					RankID="1"
					UnitType="BlackHandConfessor">
					<Position
						X="10"
						Y="-20" />
					<Position
						X="20" />
					<Position
						X="10"
						Y="20" />
				</RankInfo>
				<RankInfo
					RankID="2"
					UnitType="BlackHandConfessor">
					<Position
						X="-10"
						Y="-20" />
					<Position />
					<Position
						X="-10"
						Y="20" />
				</RankInfo>
				<RankToReleaseWhenAttacking>1</RankToReleaseWhenAttacking>
				<RankToReleaseWhenAttacking>2</RankToReleaseWhenAttacking>

				<BannerCarrierPosition>
					<UnitType>BlackHandBlackDisciple</UnitType>
					<Pos
						x="35" />
				</BannerCarrierPosition>
				<BannerCarriersAllowed>BlackHandBlackDisciple</BannerCarriersAllowed>
			</HordeContain>
			<CreateAndEnterObjectSpecialPower
				id="0x6D44A823"
				SpecialPowerTemplate="SpecialPowerCallForTransportNOD"
				TriggerFX="FX_NodCallForTransportFlare"
				IdleWhenStartingPower="True"
				ChildModuleHandlesFX="True"
				OCL="OCL_NodCallForTransportInfantry"
				CreateLocation="CREATE_ABOVE_LOCATION">
				<AttributeModifierAffects
					Rule="UNPARSED" />
				<RequirementsFilterMP
					Rule="UNPARSED" />
				<RequirementsFilterStrategic
					Rule="UNPARSED" />
				<FXOffset
					x="25" />
			</CreateAndEnterObjectSpecialPower>
			<SpecialPower
				id="0x9C918DD9"
				SpecialPowerTemplate="SpecialPowerCaptureControlPoint"
				UpdateModuleStartsAttack="True">
				<AttributeModifierAffects
					Rule="UNPARSED" />
				<RequirementsFilterMP
					Rule="UNPARSED" />
				<RequirementsFilterStrategic
					Rule="UNPARSED" />
			</SpecialPower>
			<CaptureSpecialAbilityUpdate
				id="0x89E11CB0"
				SpecialPowerTemplate="SpecialPowerCaptureControlPoint"
				StartAbilityRange="30"
				PreparationTime="10s"
				PackTime="1s"
				UnpackTime="2s"
				Options="DO_CAPTURE_FX"
				FaceTarget="True" />

			<AttributeModifierAuraUpdate
				id="ModuleTag_KanesWillAttributeModifier"
				AttributeModifierName="BlackHand_KanesWill_AttributeModifier"
				RefreshDelay="1s"
				Range="175"
				Permanent="False"
				RequiredObjectStatusFlags=""
				RequiredConditions=""
				InitiallyActive="False">
				<ObjectFilter
					Rule="ANY"
					Relationship="SAME_PLAYER"
					Include="INFANTRY">
				</ObjectFilter>
				<TriggeredBy>Upgrade_NodKanesWill</TriggeredBy>
			</AttributeModifierAuraUpdate>
			<AttributeModifierAuraUpdate
				id="0x2F4453FB"
				AttributeModifierName="Confessor_Militant_AttributeModifier"
				RefreshDelay="1s"
				Range="150"
				Permanent="False"
				InitiallyActive="False">
				<ObjectFilter
					Rule="ANY"
					Relationship="ALLIES"
					Include="INFANTRY">
				</ObjectFilter>
				<TriggeredBy>Upgrade_CallSupportUpgrade</TriggeredBy>
			</AttributeModifierAuraUpdate>
			<GrantUpgradeCreate
				id="0x77FA1297"
				UpgradeToGrant="Upgrade_CallSupportUpgrade" />
			<RemoveUpgradeUpgrade
				id="0x3734843C">
				<TriggeredBy>Upgrade_NodKanesWill</TriggeredBy>
				<UpgradeToRemove>Upgrade_CallSupportUpgrade</UpgradeToRemove>
			</RemoveUpgradeUpgrade>

			<!--
			<AttributeModifierAuraUpdate
				id="0x2F4453FB"
				AttributeModifierName="Confessor_Militant_AttributeModifier"
				RefreshDelay="1s"
				TimeRange="150"
				InitiallyActive="True">
				<ObjectFilter
					Rule="ANY"
					Relationship="ALLIES"
					Include="INFANTRY" />
			</AttributeModifierAuraUpdate> -->
			<SpecialPower
				id="0xCBFB8DD6"
				SpecialPowerTemplate="SpecialPower_BlackHandConfessorCabalGetToGrenadeRange"
				UpdateModuleStartsAttack="True">
				<AttributeModifierAffects
					Rule="UNPARSED" />
				<RequirementsFilterMP
					Rule="UNPARSED" />
				<RequirementsFilterStrategic
					Rule="UNPARSED" />
			</SpecialPower>
			<SpecialAbilityUpdate
				id="0x363900E2"
				SpecialPowerTemplate="SpecialPower_BlackHandConfessorCabalGetToGrenadeRange"
				StartAbilityRange="200"
				ChainedButton="Command_BlackHandConfessorCabalFireGrenade"
				FaceTarget="True" />
			<HordeDispatchSpecialPower
				id="0x6B29EC6B"
				SpecialPowerTemplate="SpecialPower_BlackHandConfessorCabalFireGrenade">
				<AttributeModifierAffects
					Rule="UNPARSED" />
				<RequirementsFilterMP
					Rule="UNPARSED" />
				<RequirementsFilterStrategic
					Rule="UNPARSED" />
			</HordeDispatchSpecialPower>
		</Behaviors>
		<AI>
			<HordeAIUpdate
				id="0x03F91C6F"
				AutoAcquireEnemiesWhenIdle="YES"
				MinCowerTime="3s"
				MaxCowerTime="5s"
				CanAttackWhileContained="True">

				<UnitAITargetChooserData
					SympathyRange="100"
					TargetingCompareList="DefaultTargetingCompareList" />
			</HordeAIUpdate>
		</AI>
		<Body>
			<ImmortalBody
				id="0x63378FF2"
				MaxHealth="1" />
		</Body>
		<Geometry>
			<Shape
				Type="BOX"
				MajorRadius="20"
				MinorRadius="25"
				Height="13" />
		</Geometry>
		<EvaEvents
			EvaEventDamagedOwner="UnitUnderAttack"
			EvaEventSecondDamageFarFromFirstTimeoutMS="155"
			EvaEventAvailableForProduction="NewConstructionOptions"
			EvaEventProductionStarted="UnitConstructionStarted"
			EvaEventBuildOnHold="BuildOnHold"
			EvaEventBuildCancelled="BuildCancelled"
			EvaEventPromotedOwner="UnitPromoted" />
		<VisionInfo
			VisionRange="350"
			ShroudClearingRange="400"
			VisionBonusTestRadius="200"
			VisionBonusPercentPerFoot="1%"
			MaxVisionBonusPercent="300%" />
		<CrusherInfo
			CrushableLevel="0"
			UseCrushAttack="False" />
		<DisplayUpgrade>Upgrade_NodTechCenterChargedParticleBeam</DisplayUpgrade>
		<DisplayUpgrade>Upgrade_BlackHandBlackDisciplesUpgrade</DisplayUpgrade>
	</GameObject>
</AssetDeclaration>
